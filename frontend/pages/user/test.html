<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link rel="stylesheet" href="/frontend/styles/output.css" />
  </head>
  <body>
    <div
      id="popup-card"
      class="min-w-52 min-h-32 bg-[url(/frontend/public/img/SMAWA-edit.jpg)] bg-cover bg-no-repeat bg-center rounded-md w-[38%] h-[42dvh] overflow-hidden"
    >
      <div
        class="relative size-full bg-slate-500/25 overflow-hidden after:content-[''] after:absolute after:top-0 after:left-0 after:w-full after:h-48 after:bg-[#16C47F]"
      >
        <div
          class="flex justify-start items-center gap-x-1 absolute top-3 left-5 z-20"
        >
          <div class="size-16 rounded-full overflow-hidden">
            <img
              src="/frontend/public/img/smawa-logo-transparent.png"
              alt="smawa-logo"
              class="block size-full object-cover"
            />
          </div>

          <div class="text-slate-100">
            <h1 class="text-sm font-medium">SMA Wahidiyah</h1>
            <p class="text-[11px] font-normal">Kota Lumajang</p>
          </div>
        </div>
        <div
          id="layard"
          class="absolute top-20 right-8 w-44 h-56 bg-slate-100 z-20 rounded-lg after:content-[''] after:block after:w-16 after:h-3 after:rounded-md after:bg-[#16C47F] after:mx-auto after:mt-3 before:content-[''] before:absolute before:-top-24 before:z-20 before:left-1/2 before:-translate-x-1/2 before:w-6 before:rounded-md before:h-28 before:bg-slate-300"
        >
          <div class="relative">
            <div
              id="profile-student"
              class="w-[80%] flex flex-col justify-center items-center absolute left-1/2 -translate-x-1/2 translate-y-1/2"
            >
              <div
                id="image-student"
                class="size-16 rounded-full overflow-hidden"
              >
                <img
                  class="block size-full object-cover"
                  src="/frontend/public/img/default-profile.jpeg"
                  alt="student"
                />
              </div>
              <div class="mt-2 w-full">
                <h1
                  id="name-student"
                  class="text-center text-xs font-medium text-slate-600"
                >
                  Arjun Samudera Ahli Fikri
                  <p
                    class="text-center mt-1 text-slate-500 font-medium text-[9px]"
                  >
                    Kelas : <span id="kelas-siswa">XII-1</span> ||
                    <span id="tahun-pelajaran">2024 / 2025</span>
                  </p>
                </h1>
              </div>
            </div>
          </div>
        </div>

        <div
          id="qrcode"
          class="absolute top-1/2 left-1/2 -translate-1/2 size-36 rounded-md shadow overflow-hidden z-20"
        >
          <img
            src="/frontend/public/img/images.png"
            alt="qrcode"
            class="block size-full object-cover"
          />
        </div>

        <div
          id="container_svg"
          class="z-10 absolute top-[35%] left-0 w-full overflow-hidden leading-0 rotate-180"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 319">
            <path
              fill="#16C47F"
              fill-opacity="1"
              d="M0,96L60,122.7C120,149,240,203,360,197.3C480,192,600,128,720,90.7C840,53,960,43,1080,64C1200,85,1320,139,1380,165.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,1020Z"
            ></path>
          </svg>
        </div>
        <div
          id="container_svg"
          class="absolute top-[40%] left-0 w-full overflow-hidden leading-0 rotate-180"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 319">
            <path
              fill="#fff"
              fill-opacity="1"
              d="M0,96L60,122.7C120,149,240,203,360,197.3C480,192,600,128,720,90.7C840,53,960,43,1080,64C1200,85,1320,139,1380,165.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"
            ></path>
          </svg>
        </div>
      </div>

      <!-- <div id="qrcode" hidden></div> -->
      <!-- <a id="qrcode_download">Download</a> -->
    </div>

    <a
      id="download-card"
      class="absolute top-8 right-10 px-3 py-2 rounded-md shadow-md bg-emerald-500 font-medium text-slate-100 cursor-pointer transition-all duration-150 hover:bg-emerald-700 text-sm"
      >Download Card</a
    >

    <div class="size-20 overflow-hidden">
      <img
        src="/frontend/public/background-1.png"
        alt="test"
        class="block size-1/2 object-cover"
      />
    </div>

    <script src="/frontend/node_modules/html2canvas-pro/dist/html2canvas-pro.min.js"></script>
    <script>
      const downloadCardButton = document.getElementById("download-card");
      const layard = document.getElementById("popup-card");

      async function test() {
        const testing = await html2canvas(document.body);

        const data = testing.toDataURL();

        downloadCardButton.setAttribute("href", data);
        downloadCardButton.download = "card.jpg";
      }

      test();
    </script>
  </body>
</html>
